{"ast":null,"code":"var _jsxFileName = \"/Users/christopher/Documents/vschoolwork/assignments/rtv/client/my-app/src/components/Issue/IssueDetail.js\";\nimport React, { useState, useEffect, useContext } from \"react\";\nimport { IssueContext } from \"../../context/IssueProvider.js\";\nimport { useParams } from \"react-router-dom\";\nimport Comments from \"./Comments.js\";\nimport CommentForm from \"./CommentForm.js\";\nexport default function IssueDetail(props) {\n  const {\n    _id\n  } = useParams();\n  const {\n    getIssue,\n    addComment,\n    getComments,\n    issue: {\n      title,\n      description,\n      comments\n    }\n  } = useContext(IssueContext);\n  const [commentToggle, setCommentToggle] = useState(false);\n  const [commentInput, setCommentInput] = useState(\"\");\n  useEffect(() => {\n    getIssue(_id);\n  }, [getIssue, _id]);\n\n  const toggler = () => {\n    setCommentToggle(p => !p);\n  };\n\n  const handleChange = e => setCommentInput(e.target.value);\n\n  const handleSubmit = e => {\n    e.preventDefault();\n    addComment(_id, {\n      text: commentInput\n    });\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 33,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"h1\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 34,\n      columnNumber: 7\n    }\n  }, title), /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 35,\n      columnNumber: 7\n    }\n  }, description), /*#__PURE__*/React.createElement(\"button\", {\n    onClick: toggler,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 36,\n      columnNumber: 7\n    }\n  }, \"Comments\"), commentToggle && /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Comments, {\n    id: _id,\n    getComments: getComments,\n    addComment: addComment,\n    comments: comments,\n    toggler: toggler,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(CommentForm, {\n    comment: commentInput,\n    handleChange: handleChange,\n    handleSubmit: handleSubmit,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 11\n    }\n  })));\n}","map":{"version":3,"sources":["/Users/christopher/Documents/vschoolwork/assignments/rtv/client/my-app/src/components/Issue/IssueDetail.js"],"names":["React","useState","useEffect","useContext","IssueContext","useParams","Comments","CommentForm","IssueDetail","props","_id","getIssue","addComment","getComments","issue","title","description","comments","commentToggle","setCommentToggle","commentInput","setCommentInput","toggler","p","handleChange","e","target","value","handleSubmit","preventDefault","text"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,QAAhB,EAA0BC,SAA1B,EAAqCC,UAArC,QAAuD,OAAvD;AACA,SAASC,YAAT,QAA6B,gCAA7B;AACA,SAASC,SAAT,QAA0B,kBAA1B;AACA,OAAOC,QAAP,MAAqB,eAArB;AACA,OAAOC,WAAP,MAAwB,kBAAxB;AAEA,eAAe,SAASC,WAAT,CAAqBC,KAArB,EAA4B;AACzC,QAAM;AAAEC,IAAAA;AAAF,MAAUL,SAAS,EAAzB;AACA,QAAM;AACJM,IAAAA,QADI;AAEJC,IAAAA,UAFI;AAGJC,IAAAA,WAHI;AAIJC,IAAAA,KAAK,EAAE;AAAEC,MAAAA,KAAF;AAASC,MAAAA,WAAT;AAAsBC,MAAAA;AAAtB;AAJH,MAKFd,UAAU,CAACC,YAAD,CALd;AAOA,QAAM,CAACc,aAAD,EAAgBC,gBAAhB,IAAoClB,QAAQ,CAAC,KAAD,CAAlD;AACA,QAAM,CAACmB,YAAD,EAAeC,eAAf,IAAkCpB,QAAQ,CAAC,EAAD,CAAhD;AAEAC,EAAAA,SAAS,CAAC,MAAM;AACbS,IAAAA,QAAQ,CAACD,GAAD,CAAR;AACF,GAFQ,EAEN,CAACC,QAAD,EAAWD,GAAX,CAFM,CAAT;;AAIA,QAAMY,OAAO,GAAG,MAAM;AACpBH,IAAAA,gBAAgB,CAACI,CAAC,IAAI,CAACA,CAAP,CAAhB;AACD,GAFD;;AAGA,QAAMC,YAAY,GAAGC,CAAC,IAAIJ,eAAe,CAACI,CAAC,CAACC,MAAF,CAASC,KAAV,CAAzC;;AACA,QAAMC,YAAY,GAAGH,CAAC,IAAI;AACxBA,IAAAA,CAAC,CAACI,cAAF;AACAjB,IAAAA,UAAU,CAACF,GAAD,EAAM;AAAEoB,MAAAA,IAAI,EAAEV;AAAR,KAAN,CAAV;AACD,GAHD;;AAKA,sBACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAKL,KAAL,CADF,eAEE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAIC,WAAJ,CAFF,eAGE;AAAQ,IAAA,OAAO,EAAEM,OAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBAHF,EAIGJ,aAAa,iBACZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE,oBAAC,QAAD;AACE,IAAA,EAAE,EAAER,GADN;AAEE,IAAA,WAAW,EAAEG,WAFf;AAGE,IAAA,UAAU,EAAED,UAHd;AAIE,IAAA,QAAQ,EAAEK,QAJZ;AAKE,IAAA,OAAO,EAAEK,OALX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,eAQE,oBAAC,WAAD;AACE,IAAA,OAAO,EAAEF,YADX;AAEE,IAAA,YAAY,EAAEI,YAFhB;AAGE,IAAA,YAAY,EAAEI,YAHhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IARF,CALJ,CADF;AAuBD","sourcesContent":["import React, { useState, useEffect, useContext } from \"react\";\nimport { IssueContext } from \"../../context/IssueProvider.js\";\nimport { useParams } from \"react-router-dom\";\nimport Comments from \"./Comments.js\";\nimport CommentForm from \"./CommentForm.js\";\n\nexport default function IssueDetail(props) {\n  const { _id } = useParams();\n  const {\n    getIssue,\n    addComment,\n    getComments,\n    issue: { title, description, comments }\n  } = useContext(IssueContext);\n\n  const [commentToggle, setCommentToggle] = useState(false);\n  const [commentInput, setCommentInput] = useState(\"\");\n\n  useEffect(() => {\n     getIssue(_id);\n  }, [getIssue, _id]);\n\n  const toggler = () => {\n    setCommentToggle(p => !p)\n  };\n  const handleChange = e => setCommentInput(e.target.value);\n  const handleSubmit = e => {\n    e.preventDefault();\n    addComment(_id, { text: commentInput });\n  };\n\n  return (\n    <div>\n      <h1>{title}</h1>\n      <p>{description}</p>\n      <button onClick={toggler}>Comments</button>\n      {commentToggle && (\n        <div>\n          <Comments\n            id={_id}\n            getComments={getComments}\n            addComment={addComment}\n            comments={comments}\n            toggler={toggler}\n          />\n          <CommentForm\n            comment={commentInput}\n            handleChange={handleChange}\n            handleSubmit={handleSubmit}\n          />\n        </div>\n      )}\n    </div>\n  );\n}"]},"metadata":{},"sourceType":"module"}